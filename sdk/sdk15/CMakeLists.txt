# This CMakeLists file is used to build the following combination
# NRF52840_XXAA, SDK15, S140 v6

set_property_multi("${SDK_15_TARGETS}" "FM_MAX_APP_SIZE" 254000) # Calculated with a chunk size of 128 for updates

target_compile_definitions_multi("${SDK_15_TARGETS}" "S140")
target_compile_definitions_multi("${SDK_15_TARGETS}" "NRF52")
target_compile_definitions_multi("${SDK_15_TARGETS}" "NRF52840_XXAA")
target_compile_definitions_multi("${SDK_15_TARGETS}" "NRF52840")
target_compile_definitions_multi("${SDK_15_TARGETS}" "SDK=15")

target_compile_definitions_multi("${SDK_15_TARGETS}" "SOFTDEVICE_PRESENT")
target_compile_definitions_multi("${SDK_15_TARGETS}" "BLE_STACK_SUPPORT_REQD")

target_compile_options_multi("${SDK_15_TARGETS}"  "-mcpu=cortex-m4")
target_compile_options_multi("${SDK_15_TARGETS}" "-mfloat-abi=hard")
target_compile_options_multi("${SDK_15_TARGETS}" "-mfpu=fpv4-sp-d16")

target_link_options_multi("${SDK_15_TARGETS}" "-mcpu=cortex-m4")
target_link_options_multi("${SDK_15_TARGETS}" "-mfloat-abi=hard")
target_link_options_multi("${SDK_15_TARGETS}" "-mfpu=fpv4-sp-d16")
target_link_options_multi("${SDK_15_TARGETS}" "-T${PROJECT_SOURCE_DIR}/linker/gcc_nrf52840_s140v6_256kb.ld")
target_link_options_multi("${SDK_15_TARGETS}" "-T${PROJECT_SOURCE_DIR}/linker/nrf5x_common.ld")

target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/mdk/gcc_startup_nrf52840.s")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/mdk/system_nrf52840.c")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/src/nrfx_saadc.c")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/src/nrfx_twi.c")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/src/nrfx_spi.c")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/src/prs/nrfx_prs.c")
target_sources_multi("${SDK_15_TARGETS}" "./integration/nrfx/legacy/nrf_drv_spi.c")
target_sources_multi("${SDK_15_TARGETS}" "./integration/nrfx/legacy/nrf_drv_twi.c")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/src/nrfx_gpiote.c")
target_sources_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/src/nrfx_uarte.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/util/app_util_platform.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/hardfault/nrf52/handler/hardfault_handler_gcc.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/experimental_section_vars/nrf_section_iter.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/scheduler/app_scheduler.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/timer/app_timer.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/serial/nrf_serial.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/queue/nrf_queue.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/atomic/nrf_atomic.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/libraries/atomic/nrf_atomic.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/ble/ble_db_discovery/ble_db_discovery.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/ble/ble_radio_notification/ble_radio_notification.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/softdevice/common/nrf_sdh.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/softdevice/common/nrf_sdh_ble.c")
target_sources_multi("${SDK_15_TARGETS}" "./components/softdevice/common/nrf_sdh_soc.c")

target_include_directories_system_multi("${SDK_15_TARGETS}" "../config_nrf52")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/ble/common")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/ble/ble_db_discovery")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/ble/ble_radio_notification")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/ble/ble_services/ble_dfu")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/device")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/button")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/timer")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/util")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/softdevice/common")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/softdevice/common/softdevice_handler")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/toolchain")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/toolchain/gcc")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/toolchain/cmsis/include")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/log")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/log/src")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/experimental_section_vars")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/strerror")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/scheduler")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/experimental_memobj")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/balloc")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/delay")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/serial")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/queue")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/mutex")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/libraries/atomic")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./integration/nrfx")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./integration/nrfx/legacy")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./modules/nrfx/drivers/include")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./modules/nrfx/hal")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./modules/nrfx")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./modules/nrfx/mdk")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./external/nrf_cc310/include")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/softdevice/s140/headers")
target_include_directories_system_multi("${SDK_15_TARGETS}" "./components/softdevice/s140/headers/nrf52")
